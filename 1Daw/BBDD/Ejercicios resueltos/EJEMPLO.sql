-- BASE DE DATOS EJEMPLO
-- 1º DAW
-- 18-01-2023
-- WALTER MARTIN LOPES
-- -------------------------------------------------------
-- CREACION DE LA BBDD EJEMPLO
CREATE DATABASE EJEMPLO;

USE EJEMPLO;

-- 2 CREAR EJEMPLO
CREATE TABLE EJEMPLO(
DNI CHAR(9),
NOMBRE VARCHAR(20),
EDAD INT,
CURSO INT);

ALTER TABLE EJEMPLO
ADD CONSTRAINT DNI_PK PRIMARY KEY (DNI),
ADD CONSTRAINT EBTW CHECK(EDAD BETWEEN 5 AND 20),
ADD CONSTRAINT CBTW CHECK(CURSO BETWEEN 1 AND 3);

ALTER TABLE EJEMPLO
MODIFY NOMBRE VARCHAR(20) NOT NULL;

-- 3 INSERTO
INSERT INTO EJEMPLO
VALUES ('12345678J','NACHO',19,2);

INSERT INTO EJEMPLO
VALUES ('12345278J','NACHO',19,2),
		('12344678J','NACHO',19,2),
        ('12341678J','NACHO',19,2),
        ('12342678J','NACHO',19,2);

-- 4 AÑADIR COLUMNA
ALTER TABLE EJEMPLO
ADD COLUMN FECHA_MATRICULACION DATE,
ADD COLUMN IMPORTE INT;

-- 5 PONER VALOR DEFECTO
ALTER TABLE EJEMPLO
MODIFY FECHA_MATRICULACION DATE DEFAULT '2023-01-18';

-- 6 IMPORTE OBLIGATORIO
DELETE FROM EJEMPLO;

ALTER TABLE EJEMPLO
MODIFY IMPORTE INT NOT NULL;

INSERT INTO EJEMPLO
VALUES ('12345278J','NACHO',19,2,DEFAULT,3),
		('12344678J','NACHO',19,2,DEFAULT,3),
        ('12341678J','NACHO',19,2,DEFAULT,3),
        ('12342678J','NACHO',19,2,DEFAULT,3);
        
SELECT * FROM EJEMPLO;

