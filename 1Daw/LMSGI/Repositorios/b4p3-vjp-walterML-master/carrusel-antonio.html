<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="author" content="Antonio Berrocal Piris">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galería</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        /*
            Al estar basado en target mejor utilizar id para asegurar que solo se utiliza 
            una vez por página
        */
        #galeria {
            --ancho-galeria: 500px;
            --alto-galeria: 500px;
            --ancho-botones: min(50px, calc(var(--ancho-galeria) / 5));
            width: var(--ancho-galeria);
        }

        #galeria > div#carrusel {
            width: var(--ancho-galeria);
            height: var(--alto-galeria);
            position: relative;
        }

        #galeria > #miniaturas {
            /* Es importante para que no salgan espacios entre imágenes y para que el alto de 
            #galeria incluya las miniaturas y no estén en overflow
              */

            /*solución con flex: 
            
            display: flex;
            width: var(--ancho-galeria);
            flex-wrap: wrap;
            */
            display: grid;
            grid-template-columns: repeat(5, 1fr);        
        }
        #galeria > #miniaturas  a  {
            display:block;
        }

        #galeria > #miniaturas  img {
            width: calc(var(--ancho-galeria) / 5);
            float: left;
            /* Para evitar hueco entre las filas, es debido al espacio que aparece entre las imágenes. */
        }

        #galeria figure {
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        #galeria figure img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #galeria figure:not(:target) {
            display: none;
        }

        #galeria figure:nth-child(1) {
            display: block !important;
            z-index: 10;
        }

        #galeria figure :is(.anterior, .siguiente) a {
            width: var(--ancho-botones);
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
            z-index: 1000;
            position: absolute;
            top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            font-size: var(--ancho-botones);
        }

        #galeria figure .anterior a {
            left: 0;
        }

        #galeria figure .siguiente a {
            right: 0;
        }

        #galeria figure:target {
            z-index: 100;
        }

    </style>
</head>

<body>
    <div id="galeria">
        <div id="carrusel">
            <figure id="imagen1">
                <img loading="lazy" src="https://picsum.photos/id/25/2000" alt="">
                <div class="siguiente"><a href="#imagen2">&gt;</a></div>
            </figure>
            <figure id="imagen2">
                <div class="anterior"><a href="#imagen1">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/27/2000" alt="">
                <div class="siguiente"><a href="#imagen3">&gt;</a></div>
            </figure>
            <figure id="imagen3">
                <div class="anterior"><a href="#imagen2">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/28/2000" alt="">
                <div class="siguiente"><a href="#imagen4">&gt;</a></div>
            </figure>
            <figure id="imagen4">
                <div class="anterior"><a href="#imagen3">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/29/2000" alt="">
                <div class="siguiente"><a href="#imagen5">&gt;</a></div>
            </figure>
            <figure id="imagen5">
                <div class="anterior"><a href="#imagen4">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/33/2000" alt="">
                <div class="siguiente"><a href="#imagen6">&gt;</a></div>
            </figure>
            <figure id="imagen6">
                <div class="anterior"><a href="#imagen5">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/35/2000" alt="">
                <div class="siguiente"><a href="#imagen7">&gt;</a></div>
            </figure>
            <figure id="imagen7">
                <div class="anterior"><a href="#imagen6">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/37/2000" alt="">
                <div class="siguiente"><a href="#imagen8">&gt;</a></div>
            </figure>
            <figure id="imagen8">
                <div class="anterior"><a href="#imagen7">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/44/2000" alt="">
                <div class="siguiente"><a href="#imagen9">&gt;</a></div>
            </figure>
            <figure id="imagen9">
                <div class="anterior"><a href="#imagen8">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/46/2000" alt="">
                <div class="siguiente"><a href="#imagen10">&gt;</a></div>
            </figure>
            <figure id="imagen10">
                <div class="anterior"><a href="#imagen9">&lt;</a></div>
                <img loading="lazy" src="https://picsum.photos/id/54/2000" alt="">
            </figure>
        </div>
        <div id="miniaturas">
            <a href="#imagen1"><img loading="lazy" src="https://picsum.photos/id/25/2000" alt=""></a>
            <a href="#imagen2"><img loading="lazy" src="https://picsum.photos/id/27/2000" alt=""></a>
            <a href="#imagen3"><img loading="lazy" src="https://picsum.photos/id/28/2000" alt=""></a>
            <a href="#imagen4"><img loading="lazy" src="https://picsum.photos/id/29/2000" alt=""></a>
            <a href="#imagen5"><img loading="lazy" src="https://picsum.photos/id/33/2000" alt=""></a>
           <a href="#imagen6"><img loading="lazy" src="https://picsum.photos/id/35/2000" alt=""></a>
            <a href="#imagen7"><img loading="lazy" src="https://picsum.photos/id/37/2000" alt=""></a>
            <a href="#imagen8"><img loading="lazy" src="https://picsum.photos/id/44/2000" alt=""></a>
            <a href="#imagen9"><img loading="lazy" src="https://picsum.photos/id/46/2000" alt=""></a>
            <a href="#imagen10"><img loading="lazy" src="https://picsum.photos/id/54/2000" alt=""></a>
        </div>
    </div>
    <p>Texto de prueba para comprobar que aparece después de la librería, no debajo.</p>
</body>

</html>